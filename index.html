<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>A History of Deportation Test Map - </title>
    <!--Style Libraries-->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="lib/leaflet.css">
    <!--Javascript Libraries-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.0.0/d3.min.js" integrity="sha512-0x7/VCkKLLt4wnkFqI8Cgv6no+AaS1TDgmHLOoU3hy/WVtYta2J6gnOIHhYYDJlDxPqEqAYLPS4gzVex4mGJLw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!--Data Loads-->
    <script type="text/javascript" src="data/data_new.js"></script>
    <script type="text/javascript" src="data/reg3.js"></script>
    <script type="text/javascript" src="data/reg2.js"></script>
    <script src="js/src.js"></script>
</head>

<main>
<!--     <h1>A History of US Deportation</h1> -->

    <section id="welcome-section">
		<iframe width="100%" height="900px" frameborder="0"
  		src="https://observablehq.com/embed/b9062e5ea30e27fc?cells=chart"></iframe>

<!--            <div id="observablehq-chart-ceaeeec5"></div>
<!-- 		<p>Credit: <a href="https://observablehq.com/d/b9062e5ea30e27fc">TESTING Size: Moving bubble plot of US Deportations using D3.js by mtso</a></p> -->
<!-- 
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@observablehq/inspector@5/dist/inspector.css">
		<script type="module">
		import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@5/dist/runtime.js";
		import define from "https://api.observablehq.com/d/b9062e5ea30e27fc.js?v=4";
		new Runtime().module(define, name => {
		  if (name === "chart") return new Inspector(document.querySelector("#observablehq-chart-ceaeeec5"));
		});
		</script> -->

            <div class="bottomleft">
                <p>Top 5</p>
			<iframe width="100%" height="331" frameborder="0"
  src="https://observablehq.com/embed/fad6fa46948df9fa@3159?cells=barchart"></iframe>
    
<!--       		<div id="observablehq-barchart-bd7d244b"></div>
<!-- 		<p>Credit: <a href="https://observablehq.com/d/fad6fa46948df9fa@3142">Bar Chart Race, Explained Demo by mtso</a></p> -->
		
<!-- 		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@observablehq/inspector@5/dist/inspector.css">
		<script type="module">
		import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@5/dist/runtime.js";
		import define from "https://api.observablehq.com/d/fad6fa46948df9fa@3142.js?v=4";
		new Runtime().module(define, name => {
		  if (name === "barchart") return new Inspector(document.querySelector("#observablehq-barchart-bd7d244b"));
		});
		</script> --> -->
            </div>
            
        </section>
       
    <!-- <script>
        var lrmap = L.map('map', {zoomControl: false}).setView([0, 10], 3);
		L.tileLayer('https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png', {
	        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
	        subdomains: 'abcd',
	        maxZoom: 5,
	        minZoom: 3,
            })
            .addTo(lrmap);
        //var data = [{"from":[-95.712891,37.090240],"to":[-102.552788,23.634501],"labels":["United States","Mexico"],"color":"#ff3a31", "value":27118},{"from":[-95.712891,37.090240],"to":[-106.346771,56.130367],"labels":[null,"Canada"],"color":"#ff7e2b","value":1267},{"from":[-95.712891,37.090240],"to":[-88.896530,13.794185],"labels":[null,"El Salvador"],"color":"#ffc726","value":2117},{"from":[-95.712891,37.090240],"to":[-3.435973,55.378052],"labels":[null,"United Kingdom"],"color":"#e9ff20", "value":248},{"from":[-95.712891,37.090240],"to":[-77.32573,18.15246],"labels":[null,"Jamaica"],"color":"#d77681", "value":1044}];
        //var data2=[{"from":[-73.875523,40.781063],"to":[-80.247887,25.792296],"labels":["New York","Miami"],"color":"#d7768a"},{"from":[-73.875523,40.781063],"to":[-118.2705,33.9984],"labels":[null,"Los Angeles"],"color":"#00ccff"},{"from":[-73.875523,40.781063],"to":[-87.724088,41.917846],"labels":[null,"Chicago"],"color":"#ffc726"},{"from":[-73.875523,40.781063],"to":[-71.058437,42.35902],"labels":[null,"Boston"],"color":"#e9ff20"},{"from":[-73.875523,40.781063],"to":[-75.683057,45.42172],"labels":[null,"Ottawa"],"color":"#99ff1b"}];
        //data_im = data_im.map(item => { return {...item, value: parseInt(Math.random()*20)}});
        var migrationLayer = new L.migrationLayer({
            map: lrmap,
            data: data_im, //swap with data_im to see by country versus by continent
            pulseRadius:30,
            pulseBorderWidth:2,
            arcWidth:.5,
            arcLabel:false,
            arcLabelFont:'10px sans-serif',
            maxWidth:10
            }
        );
        migrationLayer.addTo(lrmap);
        //function setData(){
        //    migrationLayer.setData(data2);
        //}
        //function hide(){
        //    migrationLayer.hide();
        //}
        //function show(){
        //    migrationLayer.show();
        //}
        function play(){
            migrationLayer.play();
        }
        function pause(){
            migrationLayer.pause();
        }
        //function destroy() {
        //    migrationLayer.destroy();
        //}
        var popup = L.popup();

        function onMapClick (e) {
            popup  
                .setContent("Deportations " + data_im.value)
                .openOn(lrmap);
        }

        lrmap.on('click', onMapClick);

        // lrmap.on('click', function (e) {
        //     document.getElementsByClassName('coordinate')[0].innerHTML = 'lat: ' + e.latlng.lat + 'lng: ' + e.latlng.lng;
        //     console.log('lat: ' + e.latlng.lat, 'lng: ' + e.latlng.lng)
        // });
    </script> -->
    <!--Leaderboard-->
    <!-- <div class="container">
		<div class= "topright">
            <p class="top5"><span>Top 5</span></p>
            <div id="leaderboard" class="cellit">
                <script type="text/javascript" src="js/global.js"></script>
                <script type="text/javascript" src="js/leaderboard.js"></script>
            </div>
        </div>
    </div> -->
    <!--Multi-Line Chart-->
    <!-- <div class="container">
            <div class="bottomleft" style="height:20%">
                <iframe width="1000px" height="562px" frameborder="0"
  src="https://observablehq.com/embed/d5c8f1e0d1c72571?cells=chart"></iframe>
                <canvas id="chart" height="100%"></canvas> -->
            <!-- </div>
    </div> -->

   <section id="projects" class="portfolio">
        <div id="observablehq-title-75c3f11e"></div>
        <div id="observablehq-viewof-year-75c3f11e" class="btn"></div>
        <div id="observablehq-bubbleChart-75c3f11e"></div>
       
    <!-- <p>Credit: <a href="https://observablehq.com/d/35d65a5a39e4026d">US Deportations Bubble Chart with D3 Render by mtso</a></p> -->
    
        <script type="module">
            import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
            import define from "https://api.observablehq.com/d/35d65a5a39e4026d.js?v=3";
            new Runtime().module(define, name => {
            if (name === "bubbleChart") return new Inspector(document.querySelector("#observablehq-bubbleChart-75c3f11e"));
            if (name === "viewof year") return new Inspector(document.querySelector("#observablehq-viewof-year-75c3f11e"));
            if (name === "title") return new Inspector(document.querySelector("#observablehq-title-75c3f11e"));
            return ["year2","input","data2","data","date2"].includes(name);
            });
        </script>
    </section>
    <!-- <section id="butterfly">
        <div id="observablehq-chart-5a5d58b6"></div>
        <div id="observablehq-viewof-colorage-5a5d58b6"></div>
        <div id="observablehq-viewof-split-5a5d58b6"></div>
        <p>Credit: <a href="https://observablehq.com/d/1e01f1ddc5db3029">Bubble Chart - Split Deportations by Year by mtso</a></p> -->
        
        <!-- <script type="module">
        import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
        import define from "https://api.observablehq.com/d/1e01f1ddc5db3029.js?v=3";
        new Runtime().module(define, name => {
          if (name === "chart") return new Inspector(document.querySelector("#observablehq-chart-5a5d58b6"));
          if (name === "viewof colorage") return new Inspector(document.querySelector("#observablehq-viewof-colorage-5a5d58b6"));
          if (name === "viewof split") return new Inspector(document.querySelector("#observablehq-viewof-split-5a5d58b6"));
        });
        </script>
    </section>
    <section id="butterfly">
        <div id="observablehq-chart-a2ef6c72"></div> -->
        <!-- <p>Credit: <a href="https://observablehq.com/d/056e7ffbc9626ce8">Butterfly: Moving bubble plot of US Deportations using D3.js by mtso</a></p> -->

        <!-- <script type="module">
            import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
            import define from "https://api.observablehq.com/d/056e7ffbc9626ce8.js?v=3";
            new Runtime().module(define, name => {
            if (name === "chart") return new Inspector(document.querySelector("#observablehq-chart-a2ef6c72"));
            });
        </script>
    </section> --> -->

</main>
</html>
